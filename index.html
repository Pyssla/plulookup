<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PLU Lookup</title>
  <style>
    :root {
      --bg: #0b0c10;
      --card: #111218;
      --muted: #9aa1b2;
      --text: #e8edf4;
      --accent: #4f8cff;
      --chip: #1a1c24;
      --ring: #2a2f3b;
    }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 20% -10%, #162032 0%, transparent 60%),
                  radial-gradient(1000px 600px at 120% 10%, #1a1228 0%, transparent 60%),
                  var(--bg);
      color: var(--text);
    }
    .wrap { max-width: 920px; margin: 40px auto; padding: 0 20px; }
    .card { background: var(--card); border: 1px solid var(--ring); border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    header { padding: 24px 24px 8px; }
    h1 { margin: 0; font-size: 28px; letter-spacing: .2px; }
    p.sub { margin: 6px 0 0; color: var(--muted); font-size: 14px; }

    .search { display: flex; gap: 10px; align-items: center; padding: 16px 24px 20px; border-top: 1px solid var(--ring); }
    .search input {
      flex: 1; font-size: 16px; padding: 14px 16px; border-radius: 12px; border: 1px solid var(--ring); outline: none; background: #0f1117; color: var(--text);
    }
    .search input:focus { border-color: var(--accent); box-shadow: 0 0 0 4px rgba(79,140,255,.18); }
    .hint { font-size: 12px; color: var(--muted); }

    .results { border-top: 1px solid var(--ring); }
    table { width: 100%; border-collapse: collapse; }
    thead th { text-align: left; font-weight: 600; color: #cdd6e6; font-size: 13px; letter-spacing: .3px; text-transform: uppercase; padding: 14px 16px; }
    tbody td { padding: 14px 16px; border-top: 1px solid #1c2230; vertical-align: middle; }
    tbody tr:hover { background: #0f131d; }

    .plu-chip { display: inline-flex; align-items: center; gap: 8px; background: var(--chip); border: 1px solid var(--ring); padding: 6px 10px; border-radius: 999px; font-weight: 600; }
    .copy { cursor: pointer; border: 0; border-radius: 8px; background: #151a24; padding: 6px 10px; color: var(--text); font-size: 13px; }
    .copy:hover { background: #1c2432; }

    .toolbar { display: flex; justify-content: space-between; align-items: center; gap: 8px; padding: 12px 16px; border-top: 1px solid var(--ring); color: var(--muted); font-size: 13px; }
    .pill { background: #0f1220; border: 1px solid var(--ring); padding: 6px 10px; border-radius: 999px; }

    .empty { padding: 20px 24px; color: var(--muted); }
    .accent { color: var(--accent); }

    @media (max-width: 560px){
      thead { display: none; }
      tbody tr { display: grid; grid-template-columns: 1fr auto; gap: 6px; padding: 10px 0; }
      tbody td { border: 0; padding: 4px 16px; }
      tbody td:nth-child(1){ order: 1; font-weight: 600; }
      tbody td:nth-child(2){ order: 2; justify-self: end; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <h1>PLU Lookup</h1>
        <p class="sub">Search by <span class="accent">item name</span> or by <span class="accent">PLU number</span>. Type to filter; click the PLU to copy.</p>
      </header>

      <div class="search">
        <input id="q" type="text" placeholder="e.g. croissant · 389 · avocado" autocomplete="off" />
        <span class="hint" id="count"></span>
      </div>

      <div class="results">
        <table>
          <thead>
            <tr>
              <th>Item</th>
              <th>PLU</th>
            </tr>
          </thead>
          <tbody id="rows"></tbody>
        </table>
        <div class="empty" id="empty" hidden>No matches. Try a broader term or a valid PLU number.</div>
        <div class="toolbar">
          <div><span class="pill" id="total"></span></div>
          <div class="hint">Tip: numbers search PLUs; text searches item names.</div>
        </div>
      </div>
    </div>
  </div>

<script>
  // --- Dataset (from your Excel) ---
  const DATA = [
    { name: "Chocolate Hazelnut Croissant", plu: 170 },
    { name: "All Butter Croissant", plu: 70 },
    { name: "Almond Croissant", plu: 389 },
    { name: "All Butter Pain au Chocolate", plu: 81 },
    { name: "Maple and Pecan Plait", plu: 54 },
    { name: "Apple Turnover", plu: 55 },
    { name: "Pastel de Nata", plu: 244 },
    { name: "Ultimate Chocolate Brownie", plu: 323 },
    { name: "Jam Filled Doughnut", plu: 92 },
    { name: "Choc Hazelnut Filled Doughnut", plu: 148 },
    { name: "Chocolate Iced Doughnut", plu: 426 },
    { name: "Pink Iced Ring Doughnut", plu: 405 },
    { name: "Filled Muffins Assorted", plu: 141 },
    { name: "Petit Pain", plu: 36 },
    { name: "Demi Baguette", plu: 49 },
    { name: "Large French Baguette", plu: 51 },
    { name: "White Crusty Roll", plu: 33 },
    { name: "Stone Baked Panini Roll", plu: 38 },
    { name: "White Artisan Baguette", plu: 391 },
    { name: "Crusty Sourdough Rye Bloomer", plu: 343 },
    { name: "Pretzel", plu: 125 },
    { name: "Vegetable Pizza Slice", plu: 71 },
    { name: "Belgian Bun", plu: 381 },
    { name: "Toffee Filled Yum Yum", plu: 118 },
    { name: "Low GI Loaf", plu: 395 },
    { name: "Stone Baked White Roll", plu: 127 },
    { name: "Seeded Sourdough Loaf", plu: 420 },
    { name: "Pizza Margherita White Cheddar", plu: 75 },
    { name: "Loose Bananas", plu: 30 },
    { name: "Loose Limes", plu: 11 },
    { name: "Loose Grapefruit", plu: 10 },
    { name: "Loose Kiwi", plu: 86 },
    { name: "Loose British Pears", plu: 50 },
    { name: "Loose Figs", plu: 2 },
    { name: "Pineapple", plu: 52 },
    { name: "Pomegranate", plu: 16 },
    { name: "Loose Mango", plu: 43 },
    { name: "Honeydew Melon", plu: 45 },
    { name: "Galia Melon", plu: 44 },
    { name: "Cantaloupe Melon", plu: 161 },
    { name: "Medium Avocado", plu: 365 },
    { name: "Large Avocado", plu: 366 },
    { name: "Pistachios Roasted & Salted", plu: 69 },
    { name: "Loose Red Apples", plu: 428 },
    { name: "Loose Sweet Potatoes", plu: 24 },
    { name: "Aubergine", plu: 58 },
    { name: "Cucumber", plu: 6 },
    { name: "Spring Onions", plu: 317 },
    { name: "Courgette", plu: 68 },
    { name: "Loose Vine Tomatoes", plu: 17 },
    { name: "Loose Red Pepper", plu: 83 },
    { name: "Ginger Loose", plu: 56 },
    { name: "Large Loose Garlic", plu: 335 },
    { name: "Butternut Squash", plu: 20 },
    { name: "Swede", plu: 79 },
    { name: "Cauliflower", plu: 363 },
    { name: "Red Cabbage", plu: 8 },
    { name: "White Cabbage", plu: 64 },
    { name: "Loose Baking Potatoes", plu: 95 },
    { name: "Baked Cookies Assorted", plu: 138 },
    { name: "Cheese Pretzel Roll", plu: 438 },
    { name: "Low GI Roll", plu: 104 },
    { name: "Mozzarella & Pesto Focaccia", plu: 387 },
    { name: "Oats and Honey Loaf", plu: 425 },
    { name: "Pain au Raisin", plu: 48 },
    { name: "Pain Suisse au Chocolat", plu: 463 },
    { name: "Sticky Cinnamon Bun", plu: 456 },
    { name: "Tiger Baton", plu: 427 },
    { name: "Tiger Bloomer", plu: 27 },
    { name: "Large White Sourdough Bloomer", plu: 481 },
    { name: "Cheese Twist", plu: 479 },
    { name: "Ancient Grain Roll", plu: 300 },
    { name: "Large Empire Biscuits Frozen", plu: 318 },
    { name: "Bunched Beetroot", plu: 320 },
    { name: "Loose Corn on the Cob", plu: 21 },
    { name: "Loose Nectarines", plu: 505 },
    { name: "Pretzel Roll", plu: 485 },
    { name: "Loose Peaches", plu: 507 },
    { name: "White Sourdough Loaf", plu: 416 },
    { name: "Persimmon", plu: 82 },
    { name: "Mozzarella & Pesto Pizza", plu: 606 },
    { name: "Caramel Suisse", plu: 536 },
    { name: "XL Avocado", plu: 367 },
	{ name: "Matisse Melon", plu: 374 },
	{ name: "Watermelon", plu: 147 },
	{ name: "Pumpkin Seed Roll", plu: 40 },
	{ name: "Lemon Millona Sqaure", plu: 552 },
	{ name: "School Cake", plu: 531 },
	{ name: "Triple Choc Blondie", plu: 451 },
	{ name: "Cheesecake Brownie", plu: 430 },
	{ name: "Half & Half Cookie", plu: 540 },
	{ name: "Raspb & Cream Muffin", plu: 555 },
	{ name: "Sticky Toffee Traybake", plu: 554 },
	{ name: "Vic Sponge Muffin", plu: 487 },
	{ name: "Choc&Caramel Cookie", plu: 551 },
	{ name: "Tiramisu Loaf Cake", plu: 544 },
	{ name: "Brioche Croissant", plu: 516 },
	{ name: "Pain au Double Choc", plu: 483 },
	{ name: "Cheese Cover Pretzel", plu: 539 },
	{ name: "Caramel Cunch Donut", plu: 519 },
	{ name: "Cookies&Cream Doughn", plu: 546 },
	{ name: "WhiteMilk Choc Donut", plu: 510 },
	{ name: "Chocolate Cronut", plu: 466 },
	{ name: "Sugar Cronut", plu: 457 },
	{ name: "Spinach and Feta Borek", plu: 538 },
	{ name: "Millionaie Shortbread", plu: 515 },
	{ name: "Focaccia Roll", plu: 605 },
	{ name: "Salted Caramel Bun", plu: 470 },
	{ name: "Chocolate Twist", plu: 443 },
	{ name: "WChoc & Speculoos", plu: 607 },
	{ name: "Loose Carrots", plu: 342 },
	

  ];

  // Precompute lowercase names for faster filtering
  const ENRICHED = DATA.map(d => ({...d, nameLc: d.name.toLowerCase()}));

  const q = document.getElementById('q');
  const rows = document.getElementById('rows');
  const empty = document.getElementById('empty');
  const total = document.getElementById('total');
  const count = document.getElementById('count');

  total.textContent = `${DATA.length} items loaded`;

  function render(list){
    rows.innerHTML = '';
    empty.hidden = list.length !== 0;
    count.textContent = list.length ? `${list.length} match${list.length===1?'':'es'}` : '';

    for(const item of list){
      const tr = document.createElement('tr');
      const tdName = document.createElement('td');
      tdName.textContent = item.name;
      const tdPlu = document.createElement('td');

      const chip = document.createElement('span');
      chip.className = 'plu-chip';
      chip.innerHTML = `<span>${item.plu}</span>`;

      const btn = document.createElement('button');
      btn.className = 'copy';
      btn.textContent = 'Copy';
      btn.title = 'Copy PLU to clipboard';
      btn.addEventListener('click', async () => {
        try { await navigator.clipboard.writeText(String(item.plu));
          btn.textContent = 'Copied!'; setTimeout(()=> btn.textContent = 'Copy', 1200);
        } catch(e){ alert('Clipboard blocked by browser'); }
      });

      tdPlu.appendChild(chip); tdPlu.appendChild(document.createTextNode(' ')); tdPlu.appendChild(btn);

      tr.appendChild(tdName); tr.appendChild(tdPlu);
      rows.appendChild(tr);
    }
  }

  function filter(query){
    const qTrim = query.trim();
    if(!qTrim){ render(ENRICHED); return; }

    const isNumeric = /^\d+$/.test(qTrim);

    if(isNumeric){
      const qNum = Number(qTrim);
      render(ENRICHED.filter(d => String(d.plu).includes(qTrim)));
      return;
    }

    const parts = qTrim.toLowerCase().split(/\s+/).filter(Boolean);
    render(ENRICHED.filter(d => parts.every(p => d.nameLc.includes(p))));
  }

  q.addEventListener('input', () => filter(q.value));
  q.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ q.value=''; filter(''); q.focus(); }});

  // Initial render
  render(ENRICHED);
</script>
</body>
</html>
